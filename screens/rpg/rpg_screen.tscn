[gd_scene load_steps=24 format=3 uid="uid://oc5oqpk3nprt"]

[ext_resource type="Script" path="res://screens/screen.gd" id="1_3am72"]
[ext_resource type="PackedScene" uid="uid://c0fgo3tb7g1ao" path="res://scenes/zones/world.tscn" id="1_jlw57"]
[ext_resource type="Script" path="res://script/object_inventory/inventory/inventory_layer.gd" id="2_icu3e"]
[ext_resource type="PackedScene" uid="uid://c6r4b6vsbtube" path="res://scenes/inventory/inventory_gui.tscn" id="3_tjsd1"]
[ext_resource type="PackedScene" uid="uid://4iyphsfraq11" path="res://scenes/menus/pause_menu/pause_menu.tscn" id="5_y5v2l"]
[ext_resource type="PackedScene" uid="uid://d7w5brnj1hi1" path="res://scenes/menus/game_menu/game_menu.tscn" id="6_bkiw3"]
[ext_resource type="PackedScene" uid="uid://dx8ovcjbdy6m8" path="res://screens/screen_audio.tscn" id="7_cceoh"]
[ext_resource type="Resource" uid="uid://bjryq23ok6dv7" path="res://music_tracks/halls_track.tres" id="8_em7p5"]

[sub_resource type="Animation" id="Animation_pqilx"]
resource_name = "Hide"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("World:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_aphk1"]
resource_name = "FadeIn"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("World:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 1), Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_0rxug"]
resource_name = "None"

[sub_resource type="Animation" id="Animation_85gfx"]
resource_name = "FadeOut"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("World:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_vt15j"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("World:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_ak1yg"]
resource_name = "Show"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("World:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_syx5v"]
_data = {
"Hide": SubResource("Animation_pqilx"),
"In": SubResource("Animation_aphk1"),
"None": SubResource("Animation_0rxug"),
"Out": SubResource("Animation_85gfx"),
"RESET": SubResource("Animation_vt15j"),
"Show": SubResource("Animation_ak1yg")
}

[sub_resource type="Animation" id="Animation_mecjy"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Audio/AudioPlayer:volume_db")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [-5.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_k3v1q"]
_data = {
"RESET": SubResource("Animation_mecjy")
}

[sub_resource type="Animation" id="Animation_ocv1e"]
resource_name = "In"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Audio/AudioPlayer:volume_db")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [-60.0, -5.0]
}

[sub_resource type="Animation" id="Animation_3cyle"]
resource_name = "In"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Audio/AudioPlayer:volume_db")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [-5.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_1j85t"]
_data = {
"1 sec": SubResource("Animation_ocv1e"),
"No Fade": SubResource("Animation_3cyle")
}

[sub_resource type="Animation" id="Animation_bq6b3"]
resource_name = "Out"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Audio/AudioPlayer:volume_db")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [-5.0, -60.0]
}

[sub_resource type="Animation" id="Animation_wag3t"]
resource_name = "Out"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Audio/AudioPlayer:volume_db")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [-60.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3qcu2"]
_data = {
"1 sec": SubResource("Animation_bq6b3"),
"No Fade": SubResource("Animation_wag3t")
}

[node name="RPGScreen" type="CanvasLayer" node_paths=PackedStringArray("contents", "transitions", "audio")]
follow_viewport_enabled = true
script = ExtResource("1_3am72")
contents = NodePath("World")
transitions = NodePath("Transitions")
audio = NodePath("Audio")

[node name="World" parent="." instance=ExtResource("1_jlw57")]
modulate = Color(0, 0, 0, 1)
position = Vector2(550, 552)

[node name="Transitions" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_syx5v")
}

[node name="inventory_layer" type="CanvasLayer" parent="."]
layer = 10
script = ExtResource("2_icu3e")

[node name="inventory_gui" parent="inventory_layer" instance=ExtResource("3_tjsd1")]
visible = false
offset_left = 11.0
offset_top = 5.0
offset_right = 11.0
offset_bottom = 5.0
scale = Vector2(2, 2)
metadata/_edit_use_anchors_ = true

[node name="pause_layer" type="CanvasLayer" parent="."]
process_mode = 3

[node name="pause_menu" parent="pause_layer" instance=ExtResource("5_y5v2l")]
visible = false

[node name="game_layer" type="CanvasLayer" parent="."]
process_mode = 3

[node name="game_menu" parent="game_layer" instance=ExtResource("6_bkiw3")]
visible = false

[node name="Audio" parent="." instance=ExtResource("7_cceoh")]
music = Array[Resource("res://music_tracks/track_control.gd")]([ExtResource("8_em7p5")])
current_track = ExtResource("8_em7p5")

[node name="AudioAnimator" parent="Audio" index="0"]
libraries = {
"": SubResource("AnimationLibrary_k3v1q"),
"Play": SubResource("AnimationLibrary_1j85t"),
"Stop": SubResource("AnimationLibrary_3qcu2")
}

[node name="AudioPlayer" parent="Audio" index="1"]
volume_db = -5.0

[editable path="Audio"]
